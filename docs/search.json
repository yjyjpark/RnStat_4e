[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R과 통계분석, 4판",
    "section": "",
    "text": "머리말\nR은 통계분석과 그래프 작성 및 통계적 프로그래밍에 적합한 매우 효과적인 분석 도구입니다. R은 잠시도 정체되어 있지 않고 끊임없이 진화하고 있으며, 놀라운 발전 속도를 항상 보여주고 있는데, 특히 패키지 tidyverse의 출현은 매우 주목할 사항입니다. 그것은 R의 모습이 tidyverse 이전과 이후로 완전히 구분된다고 할 수 있기 때문입니다. 데이터 다루기와 그래프 성능이 비교할 수 없을 만큼 향상되었고, 복잡한 분석 과정이 대폭 단순화되어 매우 효율적인 분석이 가능해졌습니다. 이러한 발전으로 인하여 R은 이제 data science를 위한 최적의 프로그래밍 언어로 자리매김을 확고하게 했다고 할 수 있습니다.\n이 책은 “R과 통계분석”, 4판의 연습문제에 대한 도움을 드리고, 출간 후 수정이 필요한 내용이나, 새롭게 추가되는 내용 등을 올리기 위해 작성됩니다. 끊임없이 진화하고 있는 R의 변화를 반영하기 위해 지속적으로 보완해갈 예정입니다.\n끝으로 이 책을 작성할 때의 R 세션 정보는 다음과 같습니다.\n\n&gt; sessionInfo()\nR version 4.5.2 (2025-10-31 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 26200)\n\nMatrix products: default\n  LAPACK version 3.12.1\n\nlocale:\n[1] LC_COLLATE=Korean_Korea.utf8  LC_CTYPE=Korean_Korea.utf8   \n[3] LC_MONETARY=Korean_Korea.utf8 LC_NUMERIC=C                 \n[5] LC_TIME=Korean_Korea.utf8    \n\ntime zone: Asia/Seoul\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] lubridate_1.9.4 forcats_1.0.1   stringr_1.6.0   dplyr_1.2.0    \n [5] purrr_1.2.1     readr_2.1.6     tidyr_1.3.2     tibble_3.3.1   \n [9] ggplot2_4.0.2   tidyverse_2.0.0\n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6       jsonlite_2.0.0     compiler_4.5.2     tidyselect_1.2.1  \n [5] scales_1.4.0       yaml_2.3.12        fastmap_1.2.0      R6_2.6.1          \n [9] generics_0.1.4     knitr_1.51         htmlwidgets_1.6.4  pillar_1.11.1     \n[13] RColorBrewer_1.1-3 tzdb_0.5.0         rlang_1.1.7        stringi_1.8.7     \n[17] xfun_0.56          S7_0.2.1           otel_0.2.0         timechange_0.4.0  \n[21] cli_3.6.5          withr_3.0.2        magrittr_2.0.4     digest_0.6.39     \n[25] grid_4.5.2         rstudioapi_0.18.0  hms_1.1.4          lifecycle_1.0.5   \n[29] vctrs_0.7.1        evaluate_1.0.5     glue_1.8.0         farver_2.1.2      \n[33] rmarkdown_2.30     tools_4.5.2        pkgconfig_2.0.3    htmltools_0.5.9",
    "crumbs": [
      "머리말"
    ]
  },
  {
    "objectID": "01-intro-4e.html",
    "href": "01-intro-4e.html",
    "title": "1  R 시작하기",
    "section": "",
    "text": "연습문제\n2. 다음의 숫자형 벡터를 만들어 보자.\nCode\n&gt;        -5:5\n [1] -5 -4 -3 -2 -1  0  1  2  3  4  5\nCode\n&gt;         5:-5\n [1]  5  4  3  2  1  0 -1 -2 -3 -4 -5\nCode\n&gt;         c(seq(1, 7, by = 2), seq(2, 8, by = 2))\n[1] 1 3 5 7 2 4 6 8\nCode\n&gt;         rep(1:4, times = 1:4)\n [1] 1 2 2 3 3 3 4 4 4 4\nCode\n&gt;        rep(1:3, times = 3)\n[1] 1 2 3 1 2 3 1 2 3\n3. 다음의 문자형 벡터를 만들어 보자.\nCode\n&gt;        rep(c(\"a\", \"b\"), times = c(2, 3))\n[1] \"a\" \"a\" \"b\" \"b\" \"b\"\nCode\n&gt;         paste0(\"a\", 1:5)\n[1] \"a1\" \"a2\" \"a3\" \"a4\" \"a5\"\nCode\n&gt;         paste0(rep(c(\"a\", \"b\", \"c\"), times = 2), rep(c(\"a\", \"b\", \"c\"), each = 3))\n[1] \"aa\" \"ba\" \"ca\" \"ab\" \"bb\" \"cb\" \"ac\" \"bc\" \"cc\"\n4. 벡터 letters는 영문 소문자로 이루어져 있는 문자형 벡터이다. 벡터 letters를 이용해서 다음의 벡터 a1을 만들어 보자.\nCode\n&gt;    a1 &lt;- paste(letters, 1:length(letters))\n5. 벡터 a1은 영문자와 숫자 사이에 빈칸이 있다. 다음과 같이 영문자와 숫자 사이에 빈칸이 없는 벡터 a2를 벡터 letters를 이용해서 만들어 보자.\nCode\n&gt;    a2 &lt;- paste0(letters, 1:length(letters))",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>R 시작하기</span>"
    ]
  },
  {
    "objectID": "01-intro-4e.html#연습문제",
    "href": "01-intro-4e.html#연습문제",
    "title": "1  R 시작하기",
    "section": "",
    "text": "-  -5  -4  -3 -2  -1  0  1  2  3   4  5\n\n-   5  4  3  2  1  0  -1  -2   -3  -4  -5\n\n-   1  3  5  7  9  2  4  6  8\n\n-   1  2  2  3  3   3   4   4   4  4   \n\n-  1  2   3   1  2  3  1  2  3 \n\n\n-  \"a\"  \"a\"  \"b\"  \"b\"  \"b\" \n\n-   \"a1\"  \"a2\"  \"a3\"  \"a4\"  \"a5\" \n\n-   \"aa\"  \"ba\"  \"ca\"  \"ab\"  \"bb\"  \"cb\"  \"ac\"  \"bc\"  \"cc\"",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>R 시작하기</span>"
    ]
  },
  {
    "objectID": "02-dplyr-4e.html",
    "href": "02-dplyr-4e.html",
    "title": "2  데이터 프레임 다루기",
    "section": "",
    "text": "2.1 데이터 프레임",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>데이터 프레임 다루기</span>"
    ]
  },
  {
    "objectID": "02-dplyr-4e.html#sec-dplyr",
    "href": "02-dplyr-4e.html#sec-dplyr",
    "title": "2  데이터 프레임 다루기",
    "section": "2.2 패키지 dplyr에 의한 데이터 프레임 다루기",
    "text": "2.2 패키지 dplyr에 의한 데이터 프레임 다루기",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>데이터 프레임 다루기</span>"
    ]
  },
  {
    "objectID": "02-dplyr-4e.html#연습문제",
    "href": "02-dplyr-4e.html#연습문제",
    "title": "2  데이터 프레임 다루기",
    "section": "2.3 연습문제",
    "text": "2.3 연습문제\n3. 데이터 프레임 iris는 세 가지 붓꽃 setosa, versicolor, virginica의 꽃잎과 꽃받침의 길이와 폭을 측정한 자료이다.\n1) 변수 Species가 setosa인 붓꽃만 선택해서 변수 Petal.Length의 오름차순으로 재배열하라. 변수 Petal.Length의 값이 같은 경우에는 변수 Petal.Width의 값이 큰 자료부터 배열하라.\n\n\nCode\n&gt;   iris |&gt; \n+   filter(Species == \"setosa\") |&gt; \n+   arrange(Petal.Length, desc(Petal.Width))\n   Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1           4.6         3.6          1.0         0.2  setosa\n2           4.3         3.0          1.1         0.1  setosa\n3           5.8         4.0          1.2         0.2  setosa\n4           5.0         3.2          1.2         0.2  setosa\n5           5.4         3.9          1.3         0.4  setosa\n6           5.0         3.5          1.3         0.3  setosa\n7           4.5         2.3          1.3         0.3  setosa\n8           4.7         3.2          1.3         0.2  setosa\n9           5.5         3.5          1.3         0.2  setosa\n10          4.4         3.0          1.3         0.2  setosa\n11          4.4         3.2          1.3         0.2  setosa\n12          4.6         3.4          1.4         0.3  setosa\n13          5.1         3.5          1.4         0.3  setosa\n14          4.8         3.0          1.4         0.3  setosa\n15          5.1         3.5          1.4         0.2  setosa\n16          4.9         3.0          1.4         0.2  setosa\n17          5.0         3.6          1.4         0.2  setosa\n18          4.4         2.9          1.4         0.2  setosa\n19          5.2         3.4          1.4         0.2  setosa\n20          5.5         4.2          1.4         0.2  setosa\n21          4.6         3.2          1.4         0.2  setosa\n22          5.0         3.3          1.4         0.2  setosa\n23          4.8         3.0          1.4         0.1  setosa\n24          4.9         3.6          1.4         0.1  setosa\n25          5.7         4.4          1.5         0.4  setosa\n26          5.1         3.7          1.5         0.4  setosa\n27          5.4         3.4          1.5         0.4  setosa\n28          5.1         3.8          1.5         0.3  setosa\n29          4.6         3.1          1.5         0.2  setosa\n30          5.0         3.4          1.5         0.2  setosa\n31          5.4         3.7          1.5         0.2  setosa\n32          5.2         3.5          1.5         0.2  setosa\n33          4.9         3.1          1.5         0.2  setosa\n34          5.1         3.4          1.5         0.2  setosa\n35          5.3         3.7          1.5         0.2  setosa\n36          4.9         3.1          1.5         0.1  setosa\n37          5.2         4.1          1.5         0.1  setosa\n38          5.0         3.5          1.6         0.6  setosa\n39          5.0         3.4          1.6         0.4  setosa\n40          4.8         3.4          1.6         0.2  setosa\n41          5.0         3.0          1.6         0.2  setosa\n42          4.7         3.2          1.6         0.2  setosa\n43          4.8         3.1          1.6         0.2  setosa\n44          5.1         3.8          1.6         0.2  setosa\n45          5.1         3.3          1.7         0.5  setosa\n46          5.4         3.9          1.7         0.4  setosa\n47          5.7         3.8          1.7         0.3  setosa\n48          5.4         3.4          1.7         0.2  setosa\n49          5.1         3.8          1.9         0.4  setosa\n50          4.8         3.4          1.9         0.2  setosa\n\n\n2) 붓꽃 setosa 중에 변수 Petal.Length가 1 이하고, Petal.Width가 0.5 이하인 붓꽃이 몇 송이가 되는지 확인해 보자.\n\n\nCode\n&gt; iris |&gt; \n+   filter(Species == \"setosa\") |&gt; \n+   filter(Petal.Length &lt;= 1 & Petal.Width &lt;= 0.5) |&gt; \n+   nrow()\n[1] 1\n\n\n3) 변수 Species가 setosa인 붓꽃 중에 변수 Petal.Length의 값이 가장 큰 붓꽃 자료를 출력해 보자.\n\n\nCode\n&gt; iris |&gt; \n+   filter(Species == \"setosa\") |&gt; \n+   slice_max(Petal.Length)\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          4.8         3.4          1.9         0.2  setosa\n2          5.1         3.8          1.9         0.4  setosa\n\n\n4) 붓꽃 versicolor와 virginica 중에 Petal.Length와 Petal.Width의 합이 가장 큰 붓꽃 자료를 출력해 보자.\n\n\nCode\n&gt; iris |&gt; \n+   filter(Species %in% c(\"versicolor\", \"virginica\")) |&gt; \n+   slice_max(Petal.Length + Petal.Width)\n  Sepal.Length Sepal.Width Petal.Length Petal.Width   Species\n1          7.7         2.6          6.9         2.3 virginica\n\n\n5) 붓꽃 setosa 중에 Petal.Length와 Petal.Width의 합이 가장 작은 붓꽃 자료를 출력해 보자.\n\n\nCode\n&gt; iris |&gt; \n+   filter(Species == \"setosa\") |&gt; \n+   slice_min(Petal.Length + Petal.Width)\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          4.6         3.6            1         0.2  setosa\n\n\n5. 패키지 MASS의 데이터 프레임 Cars93는 1993년 미국에서 판매된 93종류 자동차에 대한 자료가 입력되어 있는 전통적 데이터 프레임이다.\n1)  Cars93의 모든 변수의 처음 3행 자료를 tibble의 형식으로 출력하라.\n\n\nCode\n&gt; data(Cars93, package = \"MASS\")\n&gt; as_tibble(Cars93) |&gt; \n+   print(n = 3, width = Inf)\n# A tibble: 93 × 27\n  Manufacturer Model   Type    Min.Price Price Max.Price MPG.city MPG.highway\n  &lt;fct&gt;        &lt;fct&gt;   &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt;       &lt;int&gt;\n1 Acura        Integra Small        12.9  15.9      18.8       25          31\n2 Acura        Legend  Midsize      29.2  33.9      38.7       18          25\n3 Audi         90      Compact      25.9  29.1      32.3       20          26\n  AirBags            DriveTrain Cylinders EngineSize Horsepower   RPM\n  &lt;fct&gt;              &lt;fct&gt;      &lt;fct&gt;          &lt;dbl&gt;      &lt;int&gt; &lt;int&gt;\n1 None               Front      4                1.8        140  6300\n2 Driver & Passenger Front      6                3.2        200  5500\n3 Driver only        Front      6                2.8        172  5500\n  Rev.per.mile Man.trans.avail Fuel.tank.capacity Passengers Length Wheelbase\n         &lt;int&gt; &lt;fct&gt;                        &lt;dbl&gt;      &lt;int&gt;  &lt;int&gt;     &lt;int&gt;\n1         2890 Yes                           13.2          5    177       102\n2         2335 Yes                           18            5    195       115\n3         2280 Yes                           16.9          5    180       102\n  Width Turn.circle Rear.seat.room Luggage.room Weight Origin  Make         \n  &lt;int&gt;       &lt;int&gt;          &lt;dbl&gt;        &lt;int&gt;  &lt;int&gt; &lt;fct&gt;   &lt;fct&gt;        \n1    68          37           26.5           11   2705 non-USA Acura Integra\n2    71          38           30             15   3560 non-USA Acura Legend \n3    67          37           28             14   3375 non-USA Audi 90      \n# ℹ 90 more rows\n\n\n2)  변수 Manufacturer, Model, Cylinders, Man.trans.avail, MPG.highway, EngineSize를 선택해서 데이터 프레임 cars_93에 입력하라.\n\n\nCode\n&gt; cars_93 &lt;- Cars93 |&gt; \n+   select(Manufacturer, Model, Cylinders, Man.trans.avail, MPG.highway, EngineSize)\n\n\n3)  데이터 프레임 cars_93에서 변수 Manufacturer과 Model을 결합해서 maker를 생성하고, 첫 번째 변수로 위치를 이동하라. 변수 Manufacturer과 Model은 cars_93에서 삭제한다.\n\n\nCode\n&gt; cars_93 &lt;- cars_93 |&gt; \n+   mutate(maker = paste(Manufacturer, Model), .before = Manufacturer) |&gt; \n+   select(!c(Manufacturer, Model))\n\n\n4)  cars_93의 변수 중 Cylinders는 cyl로, Man.trans.avail은 trans로, MPG.highway는 hwy로, EngineSize는 displ로 각각 이름을 변경하라.\n\n\nCode\n&gt; cars_93 &lt;- cars_93 |&gt; \n+   rename(cyl = Cylinders, trans = Man.trans.avail, hwy = MPG.highway, displ = EngineSize)\n\n\n5)  cars_93에서 숫자형 변수만을 선택해서 처음 5개 행을 출력하라.\n\n\nCode\n&gt; cars_93 |&gt; \n+   select(where(is.numeric)) |&gt; \n+   slice_head(n = 5)\n  hwy displ\n1  31   1.8\n2  25   3.2\n3  26   2.8\n4  26   2.8\n5  30   3.5\n\n\n6)  cars_93에서 변수 cyl로 구분되는 그룹별로 해당되는 자동차의 대수를 구하라.\n\n\nCode\n&gt; cars_93 |&gt; \n+   count(cyl)\n     cyl  n\n1      3  3\n2      4 49\n3      5  2\n4      6 31\n5      8  7\n6 rotary  1\n\n\n7)  변수 cyl이 3, 5, rotary가 되는 빈도가 높지 않다. cars_93에서 해당되는 자동차의 자료를 삭제하라.\n\n\nCode\n&gt; cars_93 &lt;- cars_93 |&gt; \n+   filter(!cyl %in% c(\"3\", \"5\", \"rotary\") )\n\n\n8) cars_93에서 hwy의 값이 가장 큰 자동차의 자료를 출력하라.\n\n\nCode\n&gt; cars_93 |&gt; \n+   slice_max(hwy)\n        maker cyl trans hwy displ\n1 Honda Civic   4   Yes  46   1.5\n\n\n9)  cars_93에서 변수 cyl로 구분되는 그룹별로 hwy의 값이 가장 큰 자동차의 자료를 출력하라.\n\n\nCode\n&gt; cars_93 |&gt; \n+   group_by(cyl) |&gt; \n+   slice_max(hwy)\n# A tibble: 5 × 5\n# Groups:   cyl [3]\n  maker               cyl   trans   hwy displ\n  &lt;chr&gt;               &lt;fct&gt; &lt;fct&gt; &lt;int&gt; &lt;dbl&gt;\n1 Honda Civic         4     Yes      46   1.5\n2 Ford Taurus         6     No       30   3  \n3 Chevrolet Caprice   8     No       26   5  \n4 Ford Crown_Victoria 8     No       26   4.6\n5 Lincoln Town_Car    8     No       26   4.6\n\n\n7. 데이터 프레임 airquality는 뉴욕의 오존 농도에 관한 자료로서 6개 열, 153개 행으로 구성되어 있으다.\n1) 변수 Ozone에는 많은 수의 결측값이 있다. 월별 겵측값의 수와 비율을 다음과 같이 출력하라.\n\n# A tibble: 5 × 3\n  Month oz_na oz_na_prop\n  &lt;int&gt; &lt;int&gt;      &lt;dbl&gt;\n1     5     5     0.161 \n2     6    21     0.7   \n3     7     5     0.161 \n4     8     5     0.161 \n5     9     1     0.0333\n\n\n\nCode\n&gt; airquality |&gt; \n+   group_by(Month) |&gt; \n+   summarise(oz_na = sum(is.na(Ozone)), oz_na_prop = oz_na / n())\n# A tibble: 5 × 3\n  Month oz_na oz_na_prop\n  &lt;int&gt; &lt;int&gt;      &lt;dbl&gt;\n1     5     5     0.161 \n2     6    21     0.7   \n3     7     5     0.161 \n4     8     5     0.161 \n5     9     1     0.0333\n\n\n2) 변수 Solar.R에도 많은 수의 결측값이 있다. 변수 Ozone과 Solar.R 중 적어도 한 변수가 결측값을 갖는 날수를 월별로 계산하라.\n\n\nCode\n&gt; airquality |&gt; \n+   group_by(Month) |&gt; \n+   summarise(n_na = sum(is.na(Ozone) | is.na(Solar.R)))\n# A tibble: 5 × 2\n  Month  n_na\n  &lt;int&gt; &lt;int&gt;\n1     5     7\n2     6    21\n3     7     5\n4     8     8\n5     9     1\n\n\n3)  변수 Wind의 값이 mean(Wind) 이상이고, 변수 Temp의 값이 mean(Temp) 미만이 되는 행을 선택해서, 데이터 프레임 air_sub1에 할당하라.\n\n\nCode\n&gt; air_sub1 &lt;- airquality |&gt; \n+   filter(Wind &gt;= mean(Wind) & Temp &lt;= mean(Temp))\n\n\n4)  변수 Wind의 값이 mean(Wind) 미만이고, 변수 Temp의 값이 mean(Temp) 이상이 되는 행을 선택해서, 데이터 프레임 air_sub2에 할당하라.\n\n\nCode\n&gt; air_sub2 &lt;- airquality |&gt; \n+   filter(Wind &lt;= mean(Wind) & Temp &gt;= mean(Temp))\n\n\n5)  air_sub1과 air_sub2의 변수 Ozone과 Solar.R의 평균값 및 중앙값을 계산해서 비교하라.\n\n\nCode\n&gt; air_sub1 |&gt; \n+   summarise(m_oz = mean(Ozone, na.rm = TRUE), \n+             med_oz = median(Ozone, na.rm = TRUE),\n+             m_sol = mean(Solar.R, na.rm = TRUE),\n+             med_sol = median(Solar.R, na.rm = TRUE))\n      m_oz med_oz  m_sol med_sol\n1 17.61765     16 165.85     170\n\n\n\n\nCode\n&gt; air_sub2 |&gt; \n+   summarise(m_oz = mean(Ozone, na.rm = TRUE), \n+             med_oz = median(Ozone, na.rm = TRUE),\n+             m_sol = mean(Solar.R, na.rm = TRUE),\n+             med_sol = median(Solar.R, na.rm = TRUE))\n      m_oz med_oz    m_sol med_sol\n1 71.36364     73 204.0385     214\n\n\n6)  air_sub1과 air_sub2의 변수 Ozone과 Solar.R의 월별 평균값 및 해당 날짜 수를 계산해서 비교하라.\n\n\nCode\n&gt; air_sub1 |&gt; \n+   group_by(Month) |&gt; \n+   summarise(m_oz = mean(Ozone, na.rm = TRUE), \n+             m_sol = mean(Solar.R, na.rm = TRUE),\n+             n = n())\n# A tibble: 5 × 4\n  Month  m_oz m_sol     n\n  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;\n1     5  19.1  181.    17\n2     6  20.8  150.     7\n3     7  10    264      1\n4     8  17.3  155.     4\n5     9  15.6  152.    13\n\n\n\n\nCode\n&gt; air_sub2 |&gt; \n+   group_by(Month) |&gt; \n+   summarise(m_oz = mean(Ozone, na.rm = TRUE), \n+             m_sol = mean(Solar.R, na.rm = TRUE),\n+             n = n())\n# A tibble: 5 × 4\n  Month  m_oz m_sol     n\n  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;\n1     5 115    223      1\n2     6  26    195      9\n3     7  71.5  232     20\n4     8  77.4  182.    18\n5     9  63.9  181.     7\n\n\n8. 다음의 표는 세 명의 영업사원이 한 달간 판매한 세 가지 품목의 판매량 자료라고 한다.\n\n\nItemNameABCPark14124Lee21168Kim15510\n\n\n각 영업사원별 총 판매량을 구해서 다음과 같이 출력하라.\n\n# A tibble: 3 × 5\n  name      A     B     C total\n  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Park     14    12     4    30\n2 Lee      21    16     8    45\n3 Kim      15     5    10    30\n\n\n\nCode\n&gt; tibble(name = c(\"Park\", \"Lee\", \"Kim\"),\n+                A = c(14, 21, 15), B = c(12, 16, 5),\n+                C = c(4, 8, 10)) |&gt; \n+   rowwise() |&gt; \n+   mutate(total = sum(c_across(A:C))) |&gt; \n+   ungroup()\n# A tibble: 3 × 5\n  name      A     B     C total\n  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Park     14    12     4    30\n2 Lee      21    16     8    45\n3 Kim      15     5    10    30",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>데이터 프레임 다루기</span>"
    ]
  },
  {
    "objectID": "03-ggplot2-4e.html",
    "href": "03-ggplot2-4e.html",
    "title": "3  자료 시각화",
    "section": "",
    "text": "3.1 ggplot2 시작하기",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>자료 시각화</span>"
    ]
  },
  {
    "objectID": "03-ggplot2-4e.html#sec-mapping",
    "href": "03-ggplot2-4e.html#sec-mapping",
    "title": "3  자료 시각화",
    "section": "3.2 시각적 요소와 데이터의 연결: Mapping",
    "text": "3.2 시각적 요소와 데이터의 연결: Mapping",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>자료 시각화</span>"
    ]
  },
  {
    "objectID": "03-ggplot2-4e.html#sec-facet",
    "href": "03-ggplot2-4e.html#sec-facet",
    "title": "3  자료 시각화",
    "section": "3.3 그룹별 그래프 작성: Facet",
    "text": "3.3 그룹별 그래프 작성: Facet",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>자료 시각화</span>"
    ]
  },
  {
    "objectID": "03-ggplot2-4e.html#sec-geom",
    "href": "03-ggplot2-4e.html#sec-geom",
    "title": "3  자료 시각화",
    "section": "3.4 기하 객체: Geometric object",
    "text": "3.4 기하 객체: Geometric object",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>자료 시각화</span>"
    ]
  },
  {
    "objectID": "03-ggplot2-4e.html#sec-stat",
    "href": "03-ggplot2-4e.html#sec-stat",
    "title": "3  자료 시각화",
    "section": "3.5 통계적 변환: Statistical transformation",
    "text": "3.5 통계적 변환: Statistical transformation",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>자료 시각화</span>"
    ]
  },
  {
    "objectID": "03-ggplot2-4e.html#sec-position",
    "href": "03-ggplot2-4e.html#sec-position",
    "title": "3  자료 시각화",
    "section": "3.6 위치 조정: Position adjustment",
    "text": "3.6 위치 조정: Position adjustment",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>자료 시각화</span>"
    ]
  },
  {
    "objectID": "03-ggplot2-4e.html#sec-coord",
    "href": "03-ggplot2-4e.html#sec-coord",
    "title": "3  자료 시각화",
    "section": "3.7 죄표계: Coordinate system",
    "text": "3.7 죄표계: Coordinate system",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>자료 시각화</span>"
    ]
  },
  {
    "objectID": "03-ggplot2-4e.html#연습문제",
    "href": "03-ggplot2-4e.html#연습문제",
    "title": "3  자료 시각화",
    "section": "3.8 연습문제",
    "text": "3.8 연습문제\n1. 패키지 lattice에 있는 데이터 프레임 barley는 미네소타 주 농경학자들이 보리 종류에 따른 수확량의 차이를 비교하기 위해서 2년간 6군데 장소에서 경작하여 얻은 자료이다. 수확량은 yield이고, 경작지는 site, 보리 종류는 variety, 경작 연도는 year이다.\n1) 보리 종류에 따른 평균 수확량을 계산해서 다음과 같이 크기순으로 나타내자.\n\n\nCode\n&gt; data(barley, package = \"lattice\")\n\n\n\n\nCode\n&gt; barley |&gt; \n+   group_by(variety) |&gt; \n+   summarise(mean_yield = mean(yield)) |&gt; \n+   arrange(desc(mean_yield))\n# A tibble: 10 × 2\n   variety          mean_yield\n   &lt;fct&gt;                 &lt;dbl&gt;\n 1 Trebi                  39.4\n 2 Wisconsin No. 38       39.4\n 3 No. 457                35.8\n 4 No. 462                35.4\n 5 Peatland               34.2\n 6 Glabron                33.3\n 7 Velvet                 33.1\n 8 No. 475                31.8\n 9 Manchuria              31.5\n10 Svansota               30.4\n\n\n2) 장소와 연도에 따른 평균 수확량을 계산해서 다음과 같이 출력하자. 출력 방식은 각 장소별로 평균 수확량이 높은 연도의 결과가 먼저 나타나도록 했다. 결과를 해석하라.\n\n\nCode\n&gt; barley |&gt; \n+   group_by(site, year) |&gt; \n+   summarise(mean_yield = mean(yield)) |&gt; \n+   arrange(desc(mean_yield), .by_group = TRUE)\n# A tibble: 12 × 3\n# Groups:   site [6]\n   site            year  mean_yield\n   &lt;fct&gt;           &lt;fct&gt;      &lt;dbl&gt;\n 1 Grand Rapids    1931        29.1\n 2 Grand Rapids    1932        20.8\n 3 Duluth          1931        30.3\n 4 Duluth          1932        25.7\n 5 University Farm 1931        35.8\n 6 University Farm 1932        29.5\n 7 Morris          1932        41.5\n 8 Morris          1931        29.3\n 9 Crookston       1931        43.7\n10 Crookston       1932        31.2\n11 Waseca          1931        54.3\n12 Waseca          1932        41.9\n\n\n3) 보리 종류와 경작지, 그리고 경작 연도의 조합에 따른 수확량의 차이를 나타내는 다음의 그래프를 작성하고, 그 결과를 해석하라.\n\n\nCode\n&gt; data(barley, package = \"lattice\")\n&gt; barley |&gt; \n+   ggplot(aes(x = yield, y = variety, color = year)) +\n+   geom_point() +\n+   facet_wrap(vars(site))\n\n\n\n\n\n\n\n\n\n4) 보리 종류에 따른 수확량의 비교 분석에서 경작지와 연도의 효과를 단순 반복 처리한 다음의 그래프를 작성해 보자.\n\n\nCode\n&gt; barley |&gt; \n+   ggplot(aes(x = yield, y = variety, color = site, shape = year)) +\n+   geom_point()\n\n\n\n\n\n\n\n\n\n3. 데이터 프레임 airquality는 뉴욕시의 오존 농도에 관한 자료이다.\n1) 변수 Ozone에는 많은 수의 결측값이 있다. 월별로 Ozone의 결측값 비율을 다음의 그래프로 나타내 보자. 그래프의 범례에서 Missing은 결측값 여부를 나타내는 것으로서 TRUE는 결측값을, FALSE는 실제 관측된 자료를 나타낸다.\n\n\nCode\n&gt; airquality |&gt; \n+   mutate(Missing = is.na(Ozone)) |&gt; \n+   ggplot(aes(x = Month, fill = Missing)) +\n+   geom_bar(position = \"fill\") + \n+   labs(y = NULL)\n\n\n\n\n\n\n\n\n\n2) 변수 Solar.R에도 많은 수의 결측값이 있다. 변수 Ozone과 Solar.R 중 적어도 한 변수가 결측값을 갖는 날수를 월별로 나타내는 다음의 그래프를 작성해 보자.\n\n\nCode\n&gt; airquality |&gt; \n+   filter(is.na(Ozone) | is.na(Solar.R)) |&gt; \n+   ggplot(aes(x = Month)) +\n+   geom_bar() +\n+   ylab(NULL)\n\n\n\n\n\n\n\n\n\n3) 변수 Ozone의 월별 평균값을 다음과 같이 막대그래프로 나타내 보자.\n\n\nCode\n&gt; airquality |&gt; \n+   group_by(Month) |&gt; \n+   summarise(m_oz = mean(Ozone, na.rm = TRUE)) |&gt; \n+   ggplot(aes(x = Month, y = m_oz)) +\n+   geom_bar(stat = \"identity\", fill = \"steelblue\") +\n+   ylab(\"Mean Ozone\")\n\n\n\n\n\n\n\n\n\n4) 월별로 변수 Ozone과 Solar.R의 산점도에 회귀직선을 추가한 다음의 그래프를 작성해 보자. 결측값이 지나치게 많은 6월 자료는 대상에서 제외한다.\n\n\nCode\n&gt; airquality |&gt;  \n+   filter(Month != 6) |&gt;  \n+   ggplot(aes(x = Solar.R, y = Ozone)) +\n+   geom_point() +\n+   geom_smooth(method = \"lm\", se = FALSE) +\n+   facet_wrap(vars(Month), scales = \"free\", labeller = label_both)\n\n\n\n\n\n\n\n\n\n5) 변수 Ozone과 Solor.R의 관계가 Wind와 Temp에 따라 어떤 변화가 있는지 살펴보자. 먼저 변수 Wind와 Temp를 2개의 범주를 갖는 범주형 변수 Wind_d와 Temp_d로 각각 변환시키되, 각 범주에 속한 자료의 개수는 비슷하도록 한다. 이어서 변수 Ozone과 Solor.R의 산점도를 변수 Wind_d와 Temp_d의 조합으로 구분되는 4개 그룹별로 각각 나타낸 다음의 그래프를 작성하고, 의미를 해석하라.\n\n\nCode\n&gt; airquality |&gt; \n+   mutate(Wind_d = cut_number(Wind, n = 2),\n+          Temp_d = cut_number(Temp, n = 2)) |&gt; \n+   ggplot(aes(x = Solar.R, y = Ozone)) +\n+   geom_point() +\n+   facet_grid(rows = vars(Wind_d), cols = vars(Temp_d),\n+              labeller = label_both)\n\n\n\n\n\n\n\n\n\n5. 패키지 MASS에 있는 데이터 프레임 Cars93는 1993년 미국에서 판매된 93 종류의 자동차에 대한 데이터로 27개 변수로 구성되어 있다.\n\n\nCode\n&gt; data(Cars93, package = \"MASS\")\n\n\n1) 변수 Manufacturer, Model 은 자동차 제조 회사의 이름과 자동차 모델 이름이 각각 입력되어 있다. 93대 자동차의 제조 회사 중 빈도가 가장 높은 상위 5개 회사를 구해보자. 현대 자동차의 어떤 모델이 자료에 포함되어 있는지 알아보자.\n\n\nCode\n&gt; Cars93 |&gt;  \n+   count(Manufacturer, sort = TRUE) |&gt;  \n+   slice_head(n = 5)\n  Manufacturer n\n1    Chevrolet 8\n2         Ford 8\n3        Dodge 6\n4        Mazda 5\n5      Pontiac 5\n&gt; \n&gt; Cars93 |&gt; \n+   filter(Manufacturer == \"Hyundai\") |&gt;  \n+   select(Model)\n    Model\n1   Excel\n2 Elantra\n3  Scoupe\n4  Sonata\n\n\n2) 변수 Cylinders의 범주별 빈도를 다음과 같이 구해보자.\n\n\nCode\n&gt; Cars93 |&gt; \n+   count(Cylinders, sort = TRUE)\n  Cylinders  n\n1         4 49\n2         6 31\n3         8  7\n4         3  3\n5         5  2\n6    rotary  1\n\n\n3) 변수 Cylinders의 6개 범주 중 빈도가 낮은 3개 범주는 제외하고 막대 그래프를 작성하되, 각 범주의 빈도를 다음과 같이 그래프에 함께 나타내 보자.\n\n\nCode\n&gt; Cars93 |&gt;  \n+   filter(Cylinders %in% c(4, 6, 8)) |&gt;  \n+   count(Cylinders) |&gt;  \n+   ggplot(aes(x = Cylinders, y = n)) +\n+   geom_bar(stat = \"identity\", fill = \"steelblue\") +\n+   geom_text(aes(label = n), \n+             vjust = \"bottom\", size = 5, color = \"red\") +\n+   ylim(0,55) + ylab(NULL)\n\n\n\n\n\n\n\n\n\n4) 범주형 변수 Cylinders와 Origin의 관계를 알아보고자 한다. 변수 Cylinders의 6개 범주 중 빈도가 낮은 3개 범주는 제외하고 다음 두 그래프를 작성하고, 두 변수의 관계를 설명해 보자.\n\n\nCode\n&gt; Cars93 |&gt;  \n+   filter(Cylinders %in% c(4, 6, 8)) |&gt;  \n+   ggplot(aes(x = Cylinders, fill = Origin)) +\n+   geom_bar(position = \"fill\") +\n+   ylab(\"Proportion\")  \n\n\n\n\n\n\n\n\n\n\n\nCode\n&gt; Cars93 |&gt;  \n+   filter(Cylinders %in% c(4, 6, 8)) |&gt;  \n+   ggplot(aes(x = Cylinders, y = after_stat(prop), group = 1)) +\n+   geom_bar(fill = \"midnightblue\") +\n+   facet_wrap(vars(Origin)) + ylab(\"Proportion\")  \n\n\n\n\n\n\n\n\n\n5) 차량의 가격에 대한 변수 중 Max.Price와 Min.Price가 있다. 두 변수의 차이와 변수 Price의 산점도를 작성해 보자. 산점도에 두 변수의 차이가 가장 큰 자동차의 Manufacturer, Model 값을 해당 점 주변에 다음과 같이 표시해 보자.\n\n\nCode\n&gt; Cars93 |&gt;  \n+   mutate(Diff.Price = Max.Price - Min.Price) |&gt;  \n+   ggplot(aes(x = Diff.Price, y = Price)) +\n+   geom_point() +\n+   geom_text(data = mutate(Cars93, Diff.Price = Max.Price - Min.Price) |&gt;  \n+                             slice_max(Diff.Price),\n+             aes(label = paste(Manufacturer, Model)),\n+             vjust = \"top\", hjust = \"right\", color = \"red\"\n+   ) +\n+   labs(x = \"Difference of Max.Price and Min.Price\")  \n\n\n\n\n\n\n\n\n\n6) 두 숫자형 변수인 Price와 MPG.city의 관계를 살펴보고자 한다. 두 변수의 산점도를 작성하되, Price의 값이 지나치게 높은 두 자동차와 MPG.city의 값이 상당히 큰 세 자동차의 Manufacturer, Model 값을 산점도에 다음과 같이 함께 표시해 보자.\n\n\nCode\n&gt; Cars93 |&gt;  \n+   ggplot(aes(x = Price, y = MPG.city)) +\n+   geom_point() +\n+   geom_text(data = slice_max(Cars93, Price, n = 2),\n+             aes(label = paste(Manufacturer, Model)),\n+             vjust = \"bottom\", hjust = \"right\", color = \"red\") +\n+   geom_text(data = slice_max(Cars93, MPG.city, n = 3),\n+             aes(label = paste(Manufacturer, Model)),\n+             vjust = \"top\", hjust = \"left\", color = \"blue\") +\n+   labs(x = \"Midrange Price (in $1,000)\", y = \"City MPG\")",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>자료 시각화</span>"
    ]
  }
]